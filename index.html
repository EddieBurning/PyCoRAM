<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>PyCoRAM by shtaxxx</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">PyCoRAM</h1>
        <p class="header">Python-based Implementation of CoRAM Memory Architecture with a Python-to-Verilog High-Level Synthesis Compiler for AXI4 Interconnections</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/shtaxxx/PyCoRAM/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/shtaxxx/PyCoRAM/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/shtaxxx/PyCoRAM">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/shtaxxx">shtaxxx</a></p>


      </header>
      <section>
        <h1>
<a name="whats-pycoram" class="anchor" href="#whats-pycoram"><span class="octicon octicon-link"></span></a>What's PyCoRAM?</h1>

<p>PyCoRAM is a Python-based Implementation of CoRAM (Connected RAM) Memory Architecture.
PyCoRAM generates AXI4 IP-core design from your computing kernel logic and memory access pattern descriptions in Python.
The generated IP-core can be used as a standard IP-core with other common IP-cores together on vendor-provided EDK.
PyCoRAM includes a Verilog-to-Verilog design translator and a Python-to-Verilog high-level synthesis compiler to generate a control logic of memory operations.</p>

<p>PyCoRAM differs in some points from the original soft-logic implementation of CoRAM on existing FPGAs.</p>

<ul>
<li>Memory access pattern representation in Python

<ul>
<li>The original CoRAM uses C to represent a memory access pattern (control thread). In PyCoRAM, you can describe in easier way using popular scripting language.</li>
<li>The Python script of memory access pattern is translated into hardware design of Verilog HDL by a Python-to-Verilog high-level synthesis compiler.</li>
</ul>
</li>
<li>AMBA AXI4 Interconnection Support

<ul>
<li>The original CoRAM uses CONNECT to generate an on-chip interconnect. PyCoRAM compiler generates IP-core design for AXI4 interconnection from you computing kernel logic. AMBA AXI4 is standard interconnection architecture supported in various environments.</li>
</ul>
</li>
<li>Parameterized RTL Design Support

<ul>
<li>The original CoRAM has some limitations in description of computing kernel logic. PyCoRAM has a sophisticated RTL analyzer to translate your logic design into suitable design for PyCoRAM.</li>
</ul>
</li>
</ul><h1>
<a name="requirements" class="anchor" href="#requirements"><span class="octicon octicon-link"></span></a>Requirements</h1>

<h2>
<a name="software" class="anchor" href="#software"><span class="octicon octicon-link"></span></a>Software</h2>

<h3>
<a name="for-simulation" class="anchor" href="#for-simulation"><span class="octicon octicon-link"></span></a>For simulation</h3>

<ul>
<li>Python 3.3 (or later)</li>
<li>Pyverilog 0.7.0 (or later)

<ul>
<li>My original hardware design processing toolkit for Verilog HDL</li>
<li>Pyverilog 0.7.0 is included in this package.</li>
</ul>
</li>
<li>Icarus Verilog (0.9.6 or later)

<ul>
<li>Preprocessor of Pyverilog uses 'iverilog -E' command instead of the preprocessor.</li>
</ul>
</li>
<li>Jinja2 (2.7 or later)

<ul>
<li>Code generator requires jinja2 module.</li>
<li>'pip3 install jinja2'</li>
</ul>
</li>
</ul><p>Icarus Verilog and Synopsys VCS are supported for Verilog simulation.</p>

<h3>
<a name="for-synthesis-of-an-fpga-circuit-design-bit-file" class="anchor" href="#for-synthesis-of-an-fpga-circuit-design-bit-file"><span class="octicon octicon-link"></span></a>For synthesis of an FPGA circuit design (bit-file)</h3>

<ul>
<li>Xilinx Platform Studio (14.6 or later)</li>
</ul><h2>
<a name="recommended-fpga-board" class="anchor" href="#recommended-fpga-board"><span class="octicon octicon-link"></span></a>(Recommended) FPGA Board</h2>

<ul>
<li>Digilent Atlys (Spartan-6)</li>
<li>Xilinx ML605 (Virtex-6)</li>
<li>Xilinx VC707 (Virtex-7)</li>
</ul><h1>
<a name="getting-started" class="anchor" href="#getting-started"><span class="octicon octicon-link"></span></a>Getting Started</h1>

<p>You can find the sample input projects in 'input/tests/single_memory'.</p>

<ul>
<li>ctrl_thread.py : Control-thread definition in Python</li>
<li>userlogic.v  : User-defined Verilog code using CoRAM memory blocks</li>
</ul><p>Then type 'make' and 'make run' to simulate sample system.</p>

<pre><code>make build
make sim
</code></pre>

<p>Or type commands as below directly.</p>

<pre><code>python3.3 pycoram.py -t userlogic -I ./include/ ./input/tests/single_memory/ctrl_thread.py ./input/tests/single_memory/userlogic.v
iverilog -I pycoram_userlogic_v1_00_a/hdl/verilog/ pycoram_userlogic_v1_00_a/test/test_pycoram_userlogic.v 
./a.out
</code></pre>

<p>PyCoRAM compiler generates a directory for IP-core (pycoram_userlogic_v1_00_a, in this example).</p>

<p>'pycoram_userlogic_v1_00_a.v' includes </p>

<ul>
<li>IP-core RTL design (hdl/verilog/pycoram_userlogic.v)</li>
<li>Test bench (test/test_pycoram_userlogic.v) </li>
<li>XPS setting files (pycoram_userlogic_v2_1_0.{mpd,pao,tcl})</li>
</ul><p>A bit-stream can be synthesized by using Xilinx Platform Studio.
Please copy the generated IP-core into 'pcores' directory of XPS project.</p>

<p>This software has some sample project in 'input'.
To build them, please modify 'Makefile', so that the corresponding files and parameters are selected (especially INPUT, MEMIMG and USERTEST)</p>

<h1>
<a name="pycoram-command-options" class="anchor" href="#pycoram-command-options"><span class="octicon octicon-link"></span></a>PyCoRAM Command Options</h1>

<h2>
<a name="command" class="anchor" href="#command"><span class="octicon octicon-link"></span></a>Command</h2>

<pre><code>python3 pycoram.py [-t topmodule] [-I includepath]+ [--memimg=filename] [--usertest=filename] [--simaddrwidth=int] [--noaxi] [-o outputfile] [file]+
</code></pre>

<h2>
<a name="description" class="anchor" href="#description"><span class="octicon octicon-link"></span></a>Description</h2>

<ul>
<li>file

<ul>
<li>User-logic Verilog file (.v) and control-thread definition file (.py).
Automatically, .v file is recognized as a user-logic Verilog file, and 
.py file recongnized as a control-thread definition, respectively.</li>
</ul>
</li>
<li>-t

<ul>
<li>Name of user-defined top module, default is "userlogic".</li>
</ul>
</li>
<li>-I

<ul>
<li>Include path for input Verilog HDL files.</li>
</ul>
</li>
<li>--memimg

<ul>
<li>DRAM image file in HEX DRAM (option, if you need).
The file is copied into test directory.
If no file is assigned, the array is initialized with incremental values.</li>
</ul>
</li>
<li>--usertest

<ul>
<li>User-defined test code file (option, if you need).
The code is copied into testbench script.</li>
</ul>
</li>
<li>--simaddrwidth

<ul>
<li>DRAM address width of DRAM stub in the testbench.</li>
</ul>
</li>
<li>--noaxi

<ul>
<li>The compiler does NOT generate the system with AXI4 bus interface. default is disabled.</li>
</ul>
</li>
<li>-o

<ul>
<li>Name of output file in no-AXI mode. default is "out.v".</li>
</ul>
</li>
</ul><h1>
<a name="publication" class="anchor" href="#publication"><span class="octicon octicon-link"></span></a>Publication</h1>

<ul>
<li>Shinya Takamaeda-Yamazaki, Kenji Kise and James C. Hoe: PyCoRAM: Yet Another Implementation of CoRAM Memory Architecture for Modern FPGA-based Computing, The Third Workshop on the Intersections of Computer Architecture and Reconfigurable Logic (CARL 2013) (Co-located with MICRO-46), December 2013. <a href="http://users.ece.cmu.edu/%7Ejhoe/distribution/2013/carl13pycoram.pdf">Paper</a>
<a href="http://www.slideshare.net/shtaxxx/pycoramcarl2013">Slide</a>
</li>
</ul><h1>
<a name="related-project" class="anchor" href="#related-project"><span class="octicon octicon-link"></span></a>Related Project</h1>

<p><a href="http://shtaxxx.github.io/Pyverilog/">Pyverilog</a></p>

<ul>
<li>Python-based Hardware Design Processing Toolkit for Verilog HDL</li>
<li>Used as basic code analyser and generator in PyCoRAM</li>
</ul><p><a href="http://www.ece.cmu.edu/coram/doku.php?id=home">CoRAM</a></p>

<ul>
<li>A General Purpose Memory Architecture for FPGAs</li>
<li>The original CoRAM developed at CMU</li>
</ul><h1>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h1>

<p>Apache License 2.0
(<a href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a>)</p>

<h1>
<a name="copyright-and-contact" class="anchor" href="#copyright-and-contact"><span class="octicon octicon-link"></span></a>Copyright and Contact</h1>

<p>Copyright (C) 2013, Shinya Takamaeda-Yamazaki</p>

<p>E-mail: takamaeda_at_arch.cs.titech.ac.jp</p>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
